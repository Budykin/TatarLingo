<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:TatarLingo.ViewModels" 
             xmlns:md="clr-namespace:Markdown.Avalonia;assembly=Markdown.Avalonia" 
             x:Class="TatarLingo.Views.LectureView"   
             x:DataType="vm:LectureViewModel"
             Background="#FCFCFC">

    <UserControl.Styles>
        <Style Selector="Button.Next">
            <Setter Property="Width" Value="120"/>
            <Setter Property="Height" Value="32"/>
            <Setter Property="Background" Value="#009035"/>
            <Setter Property="CornerRadius" Value="15"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
        </Style>
        <Style Selector="Button.Next:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="#009035"/> <Setter Property="Foreground" Value="LightGray"/>
        </Style>
        
        <Style Selector="Button.Back">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="CornerRadius" Value="15"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
        </Style>
        <Style Selector="Button.Back:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="LightGray"/>
        </Style>
        
        <Style Selector="TextBlock.ModuleTitle">
            <Setter Property="FontSize" Value="20"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="0,20,0,10"/>
        </Style>
    </UserControl.Styles>

    <DockPanel LastChildFill="True">
    
        <!-- Верхняя панель с кнопкой Назад и заголовком -->
        <Grid DockPanel.Dock="Top" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
        
            <Button
                Classes="Back"
                Command="{Binding NavigateBackCommand}"
                Width="40"
                Padding="10,5"
                VerticalAlignment="Center">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <Image Source="avares://TatarLingo/Assets/LearningSwitchIcons/ArrowBack.png"
                           Width="20" Height="20"
                           Margin="0,0,6,0"/>
                </StackPanel>
            </Button>

            <TextBlock Grid.Column="0" Grid.ColumnSpan="2"
                       HorizontalAlignment="Center"
                       Text="{Binding ModuleTitle}"
                       VerticalAlignment="Center"
                       Classes="ModuleTitle"
                       Margin="10,0,0,0"/>
        </Grid>

        <!-- Нижняя кнопка Далее -->
        <Button Classes="Next"
                Content="Далее"
                Command="{Binding NextCommand}"
                DockPanel.Dock="Bottom"
                HorizontalAlignment="Right"
                Margin="0,0,20,10"/>

        <!-- Контент лекции -->
        <Border BorderBrush="#DCDCDC"
                BorderThickness="1"
                Margin="20,0,20,10"
                CornerRadius="5"
                HorizontalAlignment="Stretch">
            <md:MarkdownScrollViewer Markdown="{Binding LectureContent}" Margin="10"/>
        </Border>

    </DockPanel>
</UserControl>